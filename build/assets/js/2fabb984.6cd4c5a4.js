"use strict";(self.webpackChunknote_likun_cc=self.webpackChunknote_likun_cc||[]).push([[2497],{3702:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>a});var s=t(4848),r=t(8453);const o={sidebar_position:16},c="PHP \u8fde\u63a5\u6570\u636e\u5e93",i={id:"php/data",title:"PHP \u8fde\u63a5\u6570\u636e\u5e93",description:"PHP \u652f\u6301\u6240\u6709\u4e3b\u6d41\u7684\u6570\u636e\u5e93\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\u8bbf\u95ee\uff1a",source:"@site/docs/php/16.data.md",sourceDirName:"php",slug:"/php/data",permalink:"/docs/php/data",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/php/16.data.md",tags:[],version:"current",sidebarPosition:16,frontMatter:{sidebar_position:16},sidebar:"tutorialSidebar",previous:{title:"PHP Web \u6982\u5ff5\u5b66\u4e60",permalink:"/docs/php/web"},next:{title:"PHP \u6587\u4ef6\u64cd\u4f5c",permalink:"/docs/php/file"}},d={},a=[{value:"pdo",id:"pdo",level:2},{value:"\u539f\u751f\u8fde\u63a5\u5e93",id:"\u539f\u751f\u8fde\u63a5\u5e93",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"php-\u8fde\u63a5\u6570\u636e\u5e93",children:"PHP \u8fde\u63a5\u6570\u636e\u5e93"}),"\n",(0,s.jsx)(n.p,{children:"PHP \u652f\u6301\u6240\u6709\u4e3b\u6d41\u7684\u6570\u636e\u5e93\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\u8bbf\u95ee\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u4f7f\u7528 PDO \u5e93"}),"\n",(0,s.jsx)(n.li,{children:"\u4f7f\u7528\u7279\u5b9a\u5e93"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u8fd9\u4e24\u8005\u7684\u533a\u522b\u662f\uff0c\u4f7f\u7528 PDO \u8bbf\u95ee\u6570\u636e\u5e93\u7684\u63a5\u53e3\u65f6\uff0c\u5c06\u4f7f\u7528\u7684\u6570\u636e\u5e93\u4ece\u4e00\u79cd\u5207\u6362\u4e3a\u53e6\u4e00\u79cd\u65f6\u76f8\u5bf9\u66f4\u5bb9\u6613\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"pdo",children:"pdo"}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528\u539f\u751f C \u7f16\u5199\u7684\u6570\u636e\u5e93\u8bbf\u95ee\u6269\u5c55\uff0c\u53ef\u4ee5\u5728 php.ini \u4e2d\u5f00\u542f\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"extension=php_pdo.dll\nextension=php_pdo_mysql.dll\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4e00\u4e2a\u6570\u636e\u5e93\u4e8b\u52a1\u7684\u4f8b\u5b50"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:'try {\n    $db = new PDO ($dsn, $username, $password);\n} catch (Exception $error) {\n    die("Connection failed:". $error->getMessage());\n}\n\ntry {\n    $db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n    $db->beginTransaction();\n    \n    $db->exec($sql1);\n    $db->exec($sql2);\n\n    $db->commit();\n} catch (Exception $error) {\n    $db->roolback();\n    echo "Transaction not completed: ". $error->getMessage();\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u539f\u751f\u8fde\u63a5\u5e93",children:"\u539f\u751f\u8fde\u63a5\u5e93"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"$db = new mysqli('localhost', 'username', 'password', 'database');\n$sql = 'INSERT INTO ...';\n\nif ($db->query($sql) {\n    echo 'ok';\n} else {\n    echo 'error';\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var s=t(6540);const r={},o=s.createContext(r);function c(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);